<h1>Admin Panel</h1>

<hr>
<h4>Add Post</h4>
<form [ngStyle]="{display:'flex', flexDirection:'column'}" (submit)="addPost(author, title, body)">
  <input #author type="number" placeholder="Author..." required>
  <input #title type="text" placeholder="Title..." required>
  <textarea #body cols="30" rows="10" placeholder="Body..." required></textarea>
  <button mat-raised-button color="primary" type="submit">Add</button>
</form>
<hr>

<h4>Edit Post</h4>
<form (submit)="editPost()" [ngStyle]="{display:'flex', flexDirection:'column'}">
  <input [disabled]="!isEditing" name="editAuthorContent" [(ngModel)]="editAuthorContent" type="number" placeholder="Author..." required>
  <input [disabled]="!isEditing" name="editTitleContent" [(ngModel)]="editTitleContent" type="text" placeholder="Title..." required>
  <textarea [disabled]="!isEditing" name="editBodyContent" [(ngModel)]="editBodyContent" cols="30" rows="10" placeholder="Body..." required></textarea>
  <button mat-raised-button color="primary" type="submit">Edit</button>
</form>
<hr>

<ng-container *ngIf="posts; else loading">
  <div *ngFor="let post of posts">
    <app-post [post]="post"></app-post>
    <button mat-raised-button color="primary" (click)="showEditForm(post)">Edit</button>
    <button (click)="deletePost(post.id)" mat-fab color="primary" aria-label="Example icon button with a delete icon">
      <mat-icon>delete</mat-icon>
    </button>
  </div>
</ng-container>
<ng-template #loading>
  <mat-spinner></mat-spinner>
</ng-template>
